webpackJsonp([2],{DMKN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{arr:[],kindsList:[]}},methods:{changeKind:function(t){var e=this;this.$prompt("请输入新的分类名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(n){var s=n.value;e.$axios.post("/product/product_category/"+t+"/",{login_token:localStorage.getItem("token"),name:s}).then(function(t){0==t.data.status?(e.$message({type:"success",message:"修改后的分类名称为: "+s}),e.kindList()):e.$notify({title:"错误",message:t.data.msg,offset:0,duration:1500})}).catch(function(t){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},deleteKind:function(t){var e=this;this.$confirm("此操作将删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("/product/product_category/"+t+"/",{params:{login_token:localStorage.getItem("token")}}).then(function(t){0==t.data.status?(e.$message({type:"success",message:"删除成功!"}),e.kindList()):e.$notify({title:"错误",message:t.data.msg,offset:0,duration:1500})}).catch(function(t){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},addNew:function(){var t=this;6!=this.kindsList.length?this.$prompt("请输入新分类名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var n=e.value;0!=n.trim().length?t.$axios.post("/product/product_category/",{login_token:localStorage.getItem("token"),name:n}).then(function(e){0==e.data.status?(t.$message({type:"success",message:"你的分类名称为: "+n}),t.kindList()):t.$notify({title:"错误",message:e.data.msg,offset:0,duration:1500})}).catch(function(t){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})}):t.$notify({title:"错误",message:"您输入的分类不合法",offset:0,duration:1500})}).catch(function(){t.$message({type:"info",message:"取消输入"})}):this.$notify({title:"错误",message:"您目前最多只能拥有6个分类",offset:0,duration:1500})},kindList:function(){var t=this;this.kindsList=[],this.$axios.get("/product/product_category/",{params:{login_token:localStorage.getItem("token")}}).then(function(e){if(0==e.data.status)for(var n in e.data.category_list)t.kindsList.push(e.data.category_list[n]),t.arr[n]=e.data.category_list[n].name;else t.$notify({title:"错误",message:e.data.msg,offset:0,duration:1500})}).catch(function(t){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})})}},mounted:function(){this.kindList()}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contain"},[n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addNew()}}},[t._v("新增分类")])],1),t._v(" "),n("div",{staticClass:"item"},t._l(t.kindsList,function(e,s){return n("div",{key:s,staticClass:"items"},[n("el-input",{attrs:{placeholder:"请输入内容",readonly:""},model:{value:t.arr[s],callback:function(e){t.$set(t.arr,s,e)},expression:"arr[k]"}},[n("template",{slot:"prepend"},[t._v("分类"+t._s(s+1))])],2),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){t.changeKind(e.id)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){t.deleteKind(e.id)}}},[t._v("删除")])],1)}),0)])},staticRenderFns:[]};var i=n("VU/8")(s,a,!1,function(t){n("xnJg")},"data-v-e187a0da",null);e.default=i.exports},xnJg:function(t,e){}});